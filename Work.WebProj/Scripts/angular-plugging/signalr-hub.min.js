angular.module("SignalR",[]).constant("$",$).factory("Hub",["$",function(n){var t=null,i=function(i){t=i&&i.rootPath?n.hubConnection(i.rootPath,{userDefaultPath:!1}):n.hubConnection()};return function(r,u){var f=this;return t===null&&i(u),f.connection=t,f.proxy=f.connection.createHubProxy(r),f.on=function(n,t){f.proxy.on(n,t)},f.invoke=function(){return f.proxy.invoke.apply(f.proxy,arguments)},f.disconnect=function(){f.connection.stop()},f.connect=function(){f.connection.start()},u&&u.listeners&&angular.forEach(u.listeners,function(n,t){f.on(t,n)}),u&&u.methods&&angular.forEach(u.methods,function(t){f[t]=function(){var i=n.makeArray(arguments);return i.unshift(t),f.invoke.apply(f,i)}}),u&&u.queryParams&&(f.connection.qs=u.queryParams),u&&u.errorHandler&&f.connection.error(u.errorHandler),f.promise=f.connection.start(),f}}]);